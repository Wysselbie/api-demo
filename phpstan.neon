parameters:
    level: 8
    paths:
        - src
        - tests
    
    # Symfony-specific configuration
    symfony:
        container_xml_path: '%currentWorkingDirectory%/var/cache/dev/App_KernelDevDebugContainer.xml'
        console_application_loader: '%currentWorkingDirectory%/tests/console-application.php'
    
    # Ignore patterns
    ignoreErrors:
        # Ignore specific Doctrine-related issues that are common in Symfony
        - '#Call to an undefined method App\\Entity\\[a-zA-Z0-9_]+::[a-zA-Z0-9_]+\(\)#'
        - '#Access to an undefined property App\\Entity\\[a-zA-Z0-9_]+::\$[a-zA-Z0-9_]+#'
    
    # Bootstrap file
    bootstrapFiles:
        - '%currentWorkingDirectory%/tests/bootstrap.php'
    
    # Memory limit
    memoryLimitFile: '.phpstan-memory-limit'
    
    # Cache directory
    tmpDir: 'var/cache/phpstan'
    
    # Additional rules
    checkMissingIterableValueType: true
    checkGenericClassInNonGenericObjectType: true
    reportUnmatchedIgnoredErrors: false
    
includes:
    - vendor/phpstan/phpstan-symfony/extension.neon
